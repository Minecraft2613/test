Here's the updated HTML code for your Minecraft Server Bank web application.

I've modified the `CreateAccountPage` so that a **unique Bank ID is automatically generated and displayed as soon as you open the "Create Account" page**, before you even fill out any forms. The "Copy" button will be active right away. When you click the "Create Account" button to finalize the account, it will still show a confirmation modal and then direct you back to the login page.

All data will continue to be persisted using `localStorage` in your browser.

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Server Bank</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM CDNs -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX transformation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Custom font for a clean look */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }
        /* Custom styles for Minecraft-like buttons or elements (if desired) */
        .shadow-minecraft {
            box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.4);
        }
        .hover\:shadow-minecraft-lg:hover {
            box-shadow: 6px 6px 0px rgba(0, 0, 0, 0.6);
        }
        .border-pixel {
            border-image: url('data:image/svg+xml;utf8,<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><rect x="0" y="0" width="10" height="10" fill="transparent" stroke="%23333" stroke-width="1"/></svg>') 3 stretch;
            border-width: 4px;
            border-style: solid;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 antialiased">
    <div id="root"></div>

    <script type="text/babel">
        // Utility function for copy to clipboard
        const copyToClipboard = (text) => {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed'; // Avoid scrolling to bottom
            textarea.style.left = '-9999px'; // Move off-screen
            document.body.appendChild(textarea);
            textarea.focus();
            textarea.select();
            try {
                document.execCommand('copy');
                return true;
            } catch (err) {
                console.error('Failed to copy text: ', err);
                return false;
            } finally {
                document.body.removeChild(textarea);
            }
        };

        // Custom Modal Component for messages
        const Modal = ({ isOpen, title, message, onClose }) => {
            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50">
                    <div className="bg-white rounded-lg shadow-xl p-6 max-w-sm w-full border-4 border-gray-800">
                        <h3 className="text-xl font-bold text-gray-900 mb-4">{title}</h3>
                        <p className="text-gray-700 mb-6">{message}</p>
                        <div className="flex justify-end">
                            <button
                                onClick={onClose}
                                className="px-4 py-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-200"
                            >
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Page Components
        const LoginPage = ({ setCurrentPage, handleLogin, showModal }) => {
            const [bankId, setBankId] = React.useState('');
            const [password, setPassword] = React.useState('');
            const [mcName, setMcName] = React.useState('');
            const [edition, setEdition] = React.useState('java'); // 'java' or 'bedrock'

            const onSubmit = (e) => {
                e.preventDefault();
                handleLogin(bankId, password, mcName, edition);
            };

            return (
                <div className="flex flex-col items-center justify-center min-h-screen bg-gray-900 p-4">
                    <div className="bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-md border-4 border-gray-700">
                        <h2 className="text-3xl font-bold text-green-400 mb-6 text-center">Minecraft Bank Login</h2>
                        <div className="mb-6">
                            <label htmlFor="edition" className="block text-gray-300 text-sm font-bold mb-2">
                                Minecraft Edition:
                            </label>
                            <select
                                id="edition"
                                value={edition}
                                onChange={(e) => setEdition(e.target.value)}
                                className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            >
                                <option value="java">Java Edition</option>
                                <option value="bedrock">Bedrock Edition</option>
                            </select>
                        </div>
                        <form onSubmit={onSubmit}>
                            <div className="mb-4">
                                <label htmlFor="bankId" className="block text-gray-300 text-sm font-bold mb-2">
                                    Bank ID:
                                </label>
                                <input
                                    type="text"
                                    id="bankId"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={bankId}
                                    onChange={(e) => setBankId(e.target.value)}
                                    placeholder="BANK006443"
                                    required
                                />
                            </div>
                            <div className="mb-4">
                                <label htmlFor="password" className="block text-gray-300 text-sm font-bold mb-2">
                                    Password:
                                </label>
                                <input
                                    type="password"
                                    id="password"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    placeholder="********"
                                    required
                                />
                            </div>
                            {edition === 'bedrock' && (
                                <div className="mb-6">
                                    <label htmlFor="mcName" className="block text-gray-300 text-sm font-bold mb-2">
                                        Minecraft Name:
                                    </label>
                                    <div className="relative">
                                        <div className="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">
                                            <span className="text-xl">📦</span>
                                        </div>
                                        <input
                                            type="text"
                                            id="mcName"
                                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 pl-10 pr-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                            value={mcName}
                                            onChange={(e) => setMcName(e.target.value)}
                                            placeholder="enter mc name"
                                            required
                                        />
                                        <div className="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400">
                                            <span className="text-xl">📦</span>
                                        </div>
                                    </div>
                                </div>
                            )}
                            <div className="flex items-center justify-between mb-4">
                                <button
                                    type="submit"
                                    className="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-200 shadow-md transform hover:scale-105"
                                >
                                    Login
                                </button>
                            </div>
                        </form>
                        <div className="text-center mt-6">
                            <p className="text-gray-400">Don't have an account?</p>
                            <button
                                onClick={() => setCurrentPage('create-account')}
                                className="text-green-400 hover:underline font-semibold mt-2 focus:outline-none"
                            >
                                Create one!
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const CreateAccountPage = ({ setCurrentPage, handleCreateAccount, showModal }) => {
            const [bankName, setBankName] = React.useState('');
            const [accountId, setAccountId] = React.useState('');
            const [bankPassword, setBankPassword] = React.useState('');
            const [generatedBankId, setGeneratedBankId] = React.useState(''); // State to hold the auto-generated ID
            const [edition, setEdition] = React.useState('java'); // 'java' or 'bedrock'

            // Function to generate a random Bank ID
            const generateBankId = () => {
                const randomNum = Math.floor(100000 + Math.random() * 900000); // 6-digit random number
                return `BANK${randomNum}`;
            };

            // Generate Bank ID on component mount
            React.useEffect(() => {
                setGeneratedBankId(generateBankId());
            }, []); // Empty dependency array ensures this runs only once on mount

            const onSubmit = (e) => {
                e.preventDefault();
                // Pass the pre-generated ID to the handleCreateAccount function
                const success = handleCreateAccount(bankName, accountId, bankPassword, generatedBankId, edition);
                if (success) {
                    showModal('Account Created!', `Your Bank ID is: ${generatedBankId}. Please copy it and keep it safe!`, () => {
                        setCurrentPage('login'); // Navigate to login page after successful creation and modal close
                    });
                }
            };

            const handleCopy = () => {
                if (copyToClipboard(generatedBankId)) {
                    showModal('Copied!', 'Bank ID copied to clipboard!', null);
                } else {
                    showModal('Error', 'Failed to copy Bank ID. Please copy manually.', null);
                }
            };

            return (
                <div className="flex flex-col items-center justify-center min-h-screen bg-gray-900 p-4">
                    <div className="bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-md border-4 border-gray-700">
                        <h2 className="text-3xl font-bold text-green-400 mb-6 text-center">Create Minecraft Bank Account</h2>
                        <div className="mb-6">
                            <label htmlFor="edition" className="block text-gray-300 text-sm font-bold mb-2">
                                Minecraft Edition:
                            </label>
                            <select
                                id="edition"
                                value={edition}
                                onChange={(e) => setEdition(e.target.value)}
                                className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            >
                                <option value="java">Java Edition</option>
                                <option value="bedrock">Bedrock Edition</option>
                            </select>
                        </div>
                        <form onSubmit={onSubmit}>
                            <div className="mb-4">
                                <label htmlFor="bankName" className="block text-gray-300 text-sm font-bold mb-2">
                                    Bank Name:
                                </label>
                                <input
                                    type="text"
                                    id="bankName"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={bankName}
                                    onChange={(e) => setBankName(e.target.value)}
                                    placeholder="My Server Bank"
                                    required
                                />
                            </div>
                            <div className="mb-4">
                                <label htmlFor="accountId" className="block text-gray-300 text-sm font-bold mb-2">
                                    {edition === 'java' ? 'Account ID (In-game Name):' : 'Minecraft Name:'}
                                </label>
                                {edition === 'java' ? (
                                    <input
                                        type="text"
                                        id="accountId"
                                        className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                        value={accountId}
                                        onChange={(e) => setAccountId(e.target.value)}
                                        placeholder="PlayerIGN"
                                        required
                                    />
                                ) : (
                                    <div className="relative">
                                        <div className="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">
                                            <span className="text-xl">📦</span>
                                        </div>
                                        <input
                                            type="text"
                                            id="accountId"
                                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 pl-10 pr-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                            value={accountId}
                                            onChange={(e) => setAccountId(e.target.value)}
                                            placeholder="enter mc name"
                                            required
                                        />
                                        <div className="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400">
                                            <span className="text-xl">📦</span>
                                        </div>
                                    </div>
                                )}
                            </div>
                            <div className="mb-6">
                                <label htmlFor="bankPassword" className="block text-gray-300 text-sm font-bold mb-2">
                                    Bank Password:
                                </label>
                                <input
                                    type="password"
                                    id="bankPassword"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={bankPassword}
                                    onChange={(e) => setBankPassword(e.target.value)}
                                    placeholder="********"
                                    required
                                />
                            </div>
                            {/* Display auto-generated Bank ID and copy button */}
                            {generatedBankId && (
                                <div className="mb-6 p-4 bg-gray-700 rounded-md border border-green-500 flex items-center justify-between">
                                    <span className="text-green-300 text-sm font-mono break-all pr-2">
                                        Your Bank ID: <span className="font-bold text-lg">{generatedBankId}</span>
                                    </span>
                                    <button
                                        type="button"
                                        onClick={handleCopy}
                                        className="bg-green-500 hover:bg-green-600 text-white text-sm font-semibold py-1 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75 transition duration-200"
                                    >
                                        Copy
                                    </button>
                                </div>
                            )}
                            <div className="flex items-center justify-between mb-4">
                                <button
                                    type="submit"
                                    className="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-200 shadow-md transform hover:scale-105"
                                >
                                    Create Account
                                </button>
                            </div>
                        </form>
                        <div className="text-center mt-6">
                            <p className="text-gray-400">Already have an account?</p>
                            <button
                                onClick={() => setCurrentPage('login')}
                                className="text-green-400 hover:underline font-semibold mt-2 focus:outline-none"
                            >
                                Login here!
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const HomePage = ({ setCurrentPage, currentUserAccount, showModal }) => {
            if (!currentUserAccount) return null;

            const getProfilePicChar = (name) => {
                return name ? name.charAt(0).toUpperCase() : '?';
            };

            return (
                <div className="p-6 bg-gray-900 text-gray-100 min-h-screen flex flex-col">
                    <div className="flex justify-between items-center mb-8">
                        <h1 className="text-4xl font-extrabold text-green-400 drop-shadow-lg">Bank Home</h1>
                        <div className="flex items-center space-x-4">
                            <span className="text-lg font-semibold">{currentUserAccount.accountId}</span>
                            <div className="w-12 h-12 bg-green-700 rounded-full flex items-center justify-center text-white text-xl font-bold shadow-md border-2 border-green-500">
                                {getProfilePicChar(currentUserAccount.accountId)}
                            </div>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 flex-grow">
                        <button
                            onClick={() => setCurrentPage('bank-status')}
                            className="flex flex-col items-center justify-center bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 transform hover:scale-105 transition duration-300 group"
                        >
                            <div className="text-6xl text-blue-400 mb-4 group-hover:animate-bounce">💰</div>
                            <span className="text-2xl font-bold text-blue-300 group-hover:text-blue-200">Bank Status</span>
                        </button>

                        <button
                            onClick={() => setCurrentPage('tax-page')}
                            className="flex flex-col items-center justify-center bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 transform hover:scale-105 transition duration-300 group"
                        >
                            <div className="text-6xl text-red-400 mb-4 group-hover:animate-bounce">🧾</div>
                            <span className="text-2xl font-bold text-red-300 group-hover:text-red-200">View Tax</span>
                        </button>

                        <button
                            onClick={() => { showModal('Feature Coming Soon', 'Loan application functionality is under development.', null); }}
                            className="flex flex-col items-center justify-center bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 transform hover:scale-105 transition duration-300 group"
                        >
                            <div className="text-6xl text-yellow-400 mb-4 group-hover:animate-bounce">🤝</div>
                            <span className="text-2xl font-bold text-yellow-300 group-hover:text-yellow-200">Apply Loan</span>
                        </button>
                    </div>
                </div>
            );
        };

        const BankStatusPage = ({ setCurrentPage, currentUserAccount, showModal }) => {
            if (!currentUserAccount) return null;

            return (
                <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
                    <h1 className="text-4xl font-extrabold text-green-400 mb-8 drop-shadow-lg">Bank Status</h1>

                    <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                        <h2 className="text-2xl font-bold text-blue-300 mb-4">Account Overview</h2>
                        <p className="text-lg mb-2"><strong className="text-gray-300">Bank Name:</strong> {currentUserAccount.bankName}</p>
                        <p className="text-lg mb-2"><strong className="text-3xl text-green-500">Bank Balance: ${currentUserAccount.balance ? currentUserAccount.balance.toFixed(2) : '0.00'}</strong></p>
                        <p className="text-lg mb-4"><strong className="text-gray-300">Bank Info:</strong> Welcome to the Royal Minecraft Bank! We are dedicated to securing your in-game wealth and supporting your server's economy. Your funds are safe with us.</p>

                        <h3 className="text-xl font-bold text-blue-300 mt-6 mb-4">Transaction History Categories (Mock)</h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <button
                                onClick={() => showModal('Shop Transactions', 'This section would display your shop transaction history.', null)}
                                className="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                            >
                                Shop Transactions
                            </button>
                            <button
                                onClick={() => showModal('Job Transactions', 'This section would display your job-related transaction history.', null)}
                                className="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                            >
                                Job Transactions
                            </button>
                            <button
                                onClick={() => showModal('Player to Player Transactions', 'This section would display your player-to-player transfer history.', null)}
                                className="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                            >
                                Player to Player Transactions
                            </button>
                        </div>
                    </div>

                    <button
                        onClick={() => setCurrentPage('home')}
                        className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
                    >
                        ← Back to Home
                    </button>
                </div>
            );
        };

        const TaxPage = ({ setCurrentPage, currentUserAccount, handlePayTax, showModal }) => {
            if (!currentUserAccount) return null;

            const { bankName, accountId, taxData, transactions } = currentUserAccount;
            const sellingTax = taxData?.sellingTax || 0;
            const buyingTax = taxData?.buyingTax || 0;
            const totalTax = taxData?.totalTax || 0;
            const taxPaid = taxData?.taxPaid || 0;

            const getProfilePicChar = (name) => {
                return name ? name.charAt(0).toUpperCase() : '?';
            };

            // Filter and get the last 5 tax payment transactions
            const recentTaxTransactions = (transactions || [])
                .filter(tx => tx.type === 'Tax Payment')
                .slice(-5);

            return (
                <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
                    <h1 className="text-4xl font-extrabold text-red-400 mb-8 drop-shadow-lg">View Tax</h1>

                    <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                        <div className="flex justify-between items-center mb-6">
                            <div>
                                <p className="text-lg"><strong className="text-gray-300">Bank Name:</strong> {bankName}</p>
                                <p className="text-lg"><strong className="text-gray-300">Minecraft Name:</strong> {accountId}</p>
                            </div>
                            <div className="w-16 h-16 bg-red-700 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-md border-2 border-red-500">
                                {getProfilePicChar(accountId)}
                            </div>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-lg mb-6">
                            <p><strong className="text-gray-300">Selling Tax:</strong> <span className="text-yellow-300">${sellingTax.toFixed(2)}</span></p>
                            <p><strong className="text-gray-300">Buying Tax:</strong> <span className="text-yellow-300">${buyingTax.toFixed(2)}</span></p>
                            <p><strong className="text-gray-300">Total Tax Due:</strong> <span className="text-red-500 font-bold text-xl">${totalTax.toFixed(2)}</span></p>
                            <p><strong className="text-gray-300">Tax Paid This Period:</strong> <span className="text-green-500">${taxPaid.toFixed(2)}</span></p>
                        </div>

                        <div className="flex flex-col md:flex-row justify-center gap-4 mt-8">
                            <button
                                onClick={() => {
                                    if (totalTax > 0) {
                                        handlePayTax(totalTax);
                                    } else {
                                        showModal('No Tax Due', 'You currently have no tax due. Consider paying in advance!', null);
                                    }
                                }}
                                className={`font-bold py-3 px-8 rounded-md transition duration-200 shadow-md transform hover:scale-105 ${totalTax > 0 ? 'bg-green-600 hover:bg-green-700 text-white' : 'bg-gray-600 text-gray-300 cursor-not-allowed'}`}
                                disabled={totalTax <= 0}
                            >
                                Pay Tax
                            </button>
                            <button
                                onClick={() => {
                                    showModal(
                                        'Advance Tax Pay',
                                        'Enter amount to pay in advance. (Functionality to be implemented)',
                                        null
                                    );
                                }}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                            >
                                Advance Tax Pay
                            </button>
                            <button
                                onClick={() => setCurrentPage('home')} // Exit button now goes back to home
                                className="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                            >
                                Exit
                            </button>
                        </div>
                    </div>

                    <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8 mt-8">
                        <h2 className="text-2xl font-bold text-red-300 mb-4">Recent Tax Payments (Last 5)</h2>
                        {recentTaxTransactions.length > 0 ? (
                            <ul className="space-y-3">
                                {recentTaxTransactions.map((tx, index) => (
                                    <li key={index} className="flex justify-between items-center bg-gray-700 p-3 rounded-md border border-gray-600">
                                        <span className="font-semibold text-gray-200">{new Date(tx.date).toLocaleDateString()} - {tx.description}</span>
                                        <span className="text-green-400 font-bold">${Math.abs(tx.amount).toFixed(2)}</span>
                                    </li>
                                ))}
                            </ul>
                        ) : (
                            <p className="text-gray-400">No recent tax payment transactions.</p>
                        )}
                        <p className="text-sm text-gray-400 mt-4 text-center">
                            (Full history and chart functionality is part of the more complex version.)
                        </p>
                    </div>

                    <button
                        onClick={() => setCurrentPage('home')}
                        className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
                    >
                        ← Back to Home
                    </button>
                </div>
            );
        };

        const AccountSettingsPage = ({ setCurrentPage, currentUserAccount, showModal, handleChangePassword }) => {
            if (!currentUserAccount) return null;

            const [oldPassword, setOldPassword] = React.useState('');
            const [newPassword, setNewPassword] = React.useState('');
            const [confirmNewPassword, setConfirmNewPassword] = React.useState('');

            const onSubmitChangePassword = (e) => {
                e.preventDefault();
                if (newPassword !== confirmNewPassword) {
                    showModal('Error', 'New passwords do not match!', null);
                    return;
                }
                if (newPassword.length < 6) {
                    showModal('Error', 'New password must be at least 6 characters long.', null);
                    return;
                }
                const success = handleChangePassword(oldPassword, newPassword);
                if (success) {
                    showModal('Success', 'Password changed successfully!', () => {
                        setOldPassword('');
                        setNewPassword('');
                        setConfirmNewPassword('');
                    });
                }
            };

            return (
                <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
                    <h1 className="text-4xl font-extrabold text-blue-400 mb-8 drop-shadow-lg">Account Settings</h1>

                    <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                        <h2 className="text-2xl font-bold text-blue-300 mb-4">Account Information</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-lg mb-6">
                            <p><strong className="text-gray-300">Bank Name:</strong> {currentUserAccount.bankName}</p>
                            <p><strong className="text-gray-300">Account ID (MC Name):</strong> {currentUserAccount.accountId}</p>
                            <p><strong className="text-gray-300">Bank ID:</strong> {currentUserAccount.bankId}</p>
                            <p><strong className="text-gray-300">Current Balance:</strong> <span className="text-green-400 font-bold">${currentUserAccount.balance ? currentUserAccount.balance.toFixed(2) : '0.00'}</span></p>
                        </div>

                        <h3 className="text-xl font-bold text-blue-300 mt-6 mb-4">Social Info (Placeholder)</h3>
                        <p className="text-gray-400 mb-6">
                            This section is for future social integrations.
                        </p>

                        <h3 className="text-xl font-bold text-blue-300 mt-6 mb-4">Change Password</h3>
                        <form onSubmit={onSubmitChangePassword} className="space-y-4">
                            <div>
                                <label htmlFor="oldPassword" className="block text-gray-300 text-sm font-bold mb-2">
                                    Old Password:
                                </label>
                                <input
                                    type="password"
                                    id="oldPassword"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={oldPassword}
                                    onChange={(e) => setOldPassword(e.target.value)}
                                    required
                                />
                            </div>
                            <div>
                                <label htmlFor="newPassword" className="block text-gray-300 text-sm font-bold mb-2">
                                    New Password:
                                </label>
                                <input
                                    type="password"
                                    id="newPassword"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={newPassword}
                                    onChange={(e) => setNewPassword(e.target.value)}
                                    required
                                />
                            </div>
                            <div>
                                <label htmlFor="confirmNewPassword" className="block text-gray-300 text-sm font-bold mb-2">
                                    Confirm New Password:
                                </label>
                                <input
                                    type="password"
                                    id="confirmNewPassword"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={confirmNewPassword}
                                    onChange={(e) => setConfirmNewPassword(e.target.value)}
                                    required
                                />
                            </div>
                            <button
                                type="submit"
                                className="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-200 shadow-md"
                            >
                                Change Password
                            </button>
                        </form>
                    </div>

                    <button
                        onClick={() => setCurrentPage('home')}
                        className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
                    >
                        ← Back to Home
                    </button>
                </div>
            );
        };

        const TopTaxPayersPage = ({ setCurrentPage }) => (
            <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
                <h1 className="text-4xl font-extrabold text-green-400 mb-8 drop-shadow-lg">Top 3 Most Tax Payers</h1>
                <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                    <p className="text-gray-400">This page will display a leaderboard of the top 3 players who have paid the most tax.</p>
                    <ul className="mt-4 space-y-2 text-lg">
                        <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                            <span className="font-semibold text-yellow-400">🥇 Player123</span>
                            <span>$1500.00</span>
                        </li>
                        <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                            <span className="font-semibold text-gray-300">🥈 BuilderBob</span>
                            <span>$1200.00</span>
                        </li>
                        <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                            <span className="font-semibold text-orange-400">🥉 MinerMike</span>
                            <span>$950.00</span>
                        </li>
                    </ul>
                </div>
                <button
                    onClick={() => setCurrentPage('home')}
                    className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
                >
                    ← Back to Home
                </button>
            </div>
        );

        const TopAdvanceTaxPayersPage = ({ setCurrentPage }) => (
            <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
                <h1 className="text-4xl font-extrabold text-blue-400 mb-8 drop-shadow-lg">Top 3 Most Advance Tax Payers</h1>
                <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                    <p className="text-gray-400">This page will display a leaderboard of the top 3 players who have paid the most tax in advance.</p>
                    <ul className="mt-4 space-y-2 text-lg">
                        <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                            <span className="font-semibold text-yellow-400">🥇 ServerAdmin</span>
                            <span>$2000.00</span>
                        </li>
                        <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                            <span className="font-semibold text-gray-300">🥈 WealthyPlayer</span>
                            <span>$1800.00</span>
                        </li>
                        <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                            <span className="font-semibold text-orange-400">🥉 ProGamer</span>
                            <span>$1000.00</span>
                        </li>
                    </ul>
                </div>
                <button
                    onClick={() => setCurrentPage('home')}
                    className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
                >
                    ← Back to Home
                </button>
            </div>
        );

        const ContactUsPage = ({ setCurrentPage }) => (
            <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
                <h1 className="text-4xl font-extrabold text-purple-400 mb-8 drop-shadow-lg">Contact Us</h1>
                <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                    <p className="text-lg text-gray-300 mb-4">For support, please contact your server administrators.</p>
                    <ul className="list-disc list-inside space-y-2 text-lg">
                        <li><strong className="text-gray-300">Discord:</strong> <a href="#" className="text-purple-400 hover:underline">discord.gg/yourserver</a></li>
                        <li><strong className="text-gray-300">Email:</strong> <a href="mailto:support@yourserver.com" className="text-purple-400 hover:underline">support@yourserver.com</a></li>
                    </ul>
                </div>
                <button
                    onClick={() => setCurrentPage('home')}
                    className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
                >
                    ← Back to Home
                </button>
            </div>
        );

        const ThemeSettingPage = ({ setCurrentPage, showModal }) => (
            <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
                <h1 className="text-4xl font-extrabold text-yellow-400 mb-8 drop-shadow-lg">Theme Settings</h1>
                <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                    <p className="text-lg text-gray-300 mb-4">Choose your preferred visual theme for the bank interface.</p>
                    <div className="space-y-4">
                        <button
                            onClick={() => showModal('Theme Change', 'Light theme applied! (Placeholder)', null)}
                            className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                        >
                            Apply Light Theme
                        </button>
                        <button
                            onClick={() => showModal('Theme Change', 'Dark theme applied! (Placeholder)', null)}
                            className="w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                        >
                            Apply Dark Theme
                        </button>
                        <button
                            onClick={() => showModal('Theme Change', 'Minecraft theme applied! (Placeholder)', null)}
                            className="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                        >
                            Apply Minecraft Theme
                        </button>
                    </div>
                </div>
                <button
                    onClick={() => setCurrentPage('home')}
                    className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
                >
                    ← Back to Home
                </button>
            </div>
        );


        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = React.useState('login');
            const [currentUserAccount, setCurrentUserAccount] = React.useState(null);
            const [loading, setLoading] = React.useState(true);
            const [isSidebarOpen, setIsSidebarOpen] = React.useState(false);

            // Modal state
            const [isModalOpen, setIsModalOpen] = React.useState(false);
            const [modalTitle, setModalTitle] = React.useState('');
            const [modalMessage, setModalMessage] = React.useState('');
            const modalCallbackRef = React.useRef(null);

            const showModal = (title, message, callback = null) => {
                setModalTitle(title);
                setModalMessage(message);
                modalCallbackRef.current = callback;
                setIsModalOpen(true);
            };

            const closeModal = () => {
                setIsModalOpen(false);
                setModalTitle('');
                setModalMessage('');
                if (modalCallbackRef.current) {
                    modalCallbackRef.current();
                    modalCallbackRef.current = null;
                }
            };

            // Load accounts from localStorage on initial render
            React.useEffect(() => {
                try {
                    const storedAccounts = JSON.parse(localStorage.getItem('minecraftBankAccounts') || '[]');
                    console.log("Loaded accounts from localStorage:", storedAccounts);
                } catch (e) {
                    console.error("Failed to parse accounts from localStorage:", e);
                    localStorage.removeItem('minecraftBankAccounts'); // Clear corrupt data
                } finally {
                    setLoading(false);
                }
            }, []);

            // Helper to get all accounts from localStorage
            const getAllAccounts = () => {
                try {
                    return JSON.parse(localStorage.getItem('minecraftBankAccounts') || '[]');
                } catch (e) {
                    console.error("Error reading from localStorage:", e);
                    return [];
                }
            };

            // Helper to save all accounts to localStorage
            const saveAllAccounts = (accounts) => {
                try {
                    localStorage.setItem('minecraftBankAccounts', JSON.stringify(accounts));
                } catch (e) {
                    console.error("Error writing to localStorage:", e);
                }
            };

            // Handle Login Function (using localStorage)
            const handleLogin = (bankId, password, mcName, edition) => {
                setLoading(true);
                const accounts = getAllAccounts();
                const foundAccount = accounts.find(account =>
                    account.bankId === bankId &&
                    account.password === password &&
                    (edition === 'java' || account.accountId === mcName) // For bedrock, mcName must match accountId
                );

                if (foundAccount) {
                    setCurrentUserAccount(foundAccount);
                    setCurrentPage('home');
                    showModal('Login Successful!', `Welcome back, ${foundAccount.accountId}!`, null);
                } else {
                    showModal('Login Failed', 'Invalid Bank ID, Password, or Minecraft Name. Please try again.', null);
                }
                setLoading(false);
            };

            // Handle Create Account Function (using localStorage)
            const handleCreateAccount = (bankName, accountId, bankPassword, newBankId, edition) => {
                setLoading(true);
                const accounts = getAllAccounts();

                const accountExists = accounts.some(account =>
                    account.accountId === accountId || account.bankId === newBankId
                );

                if (accountExists) {
                    showModal('Creation Failed', 'An account with this Minecraft Name or Bank ID already exists. Please use a different name/ID or login.', null);
                    setLoading(false);
                    return false;
                }

                const newAccount = {
                    bankName,
                    accountId,
                    password: bankPassword, // NOTE: In a real application, passwords should be securely hashed!
                    bankId: newBankId,
                    balance: 100.00, // Initial balance
                    edition,
                    taxData: {
                        sellingTax: 0,
                        buyingTax: 0,
                        totalTax: 10.00, // Example: initial tax due for demo purposes
                        taxPaid: 0,
                    },
                    transactions: [] // Initialize with an empty array for transactions
                };

                const updatedAccounts = [...accounts, newAccount];
                saveAllAccounts(updatedAccounts); // Save the new list of accounts to localStorage
                setCurrentUserAccount(newAccount); // Set the newly created account as the current user's account
                console.log('Account created successfully:', newAccount);
                setLoading(false);
                return true;
            };

            // Handle Pay Tax Function (using localStorage)
            const handlePayTax = (amount) => {
                setLoading(true);
                if (!currentUserAccount) {
                    showModal('Error', 'No active account to pay tax.', null);
                    setLoading(false);
                    return;
                }

                const currentBalance = currentUserAccount.balance || 0;
                const currentTotalTax = currentUserAccount.taxData?.totalTax || 0;

                if (currentBalance < amount) {
                    showModal('Payment Failed', 'Insufficient balance to pay tax.', null);
                    setLoading(false);
                    return;
                }

                const newBalance = currentBalance - amount;
                const newTotalTax = Math.max(0, currentTotalTax - amount);
                const newTaxPaid = (currentUserAccount.taxData?.taxPaid || 0) + amount;

                const updatedTransactions = [
                    ...(currentUserAccount.transactions || []),
                    {
                        type: 'Tax Payment',
                        amount: -amount, // Negative amount signifies money outflow
                        date: new Date().toISOString(), // ISO string for consistent date handling
                        description: `Paid ${amount.toFixed(2)} in tax`
                    }
                ];

                const updatedAccount = {
                    ...currentUserAccount,
                    balance: newBalance,
                    taxData: {
                        ...currentUserAccount.taxData, // Keep existing taxData properties
                        totalTax: newTotalTax,
                        taxPaid: newTaxPaid
                    },
                    transactions: updatedTransactions
                };

                setCurrentUserAccount(updatedAccount); // Update local React state

                const allAccounts = getAllAccounts();
                const accountIndex = allAccounts.findIndex(acc => acc.bankId === currentUserAccount.bankId);
                if (accountIndex > -1) {
                    allAccounts[accountIndex] = updatedAccount;
                    saveAllAccounts(allAccounts); // Save updated account list to localStorage
                    showModal('Tax Paid!', `Successfully paid $${amount.toFixed(2)} in tax.`, null);
                } else {
                    showModal('Error', 'Account not found in local storage. Data might be desynchronized.', null);
                }
                setLoading(false);
            };

            // Handle Change Password Function (using localStorage)
            const handleChangePassword = (oldPassword, newPassword) => {
                setLoading(true);
                if (!currentUserAccount) {
                    showModal('Error', 'No active account to change password.', null);
                    setLoading(false);
                    return false;
                }

                if (currentUserAccount.password !== oldPassword) {
                    showModal('Error', 'Old password is incorrect.', null);
                    setLoading(false);
                    return false;
                }

                const updatedAccount = {
                    ...currentUserAccount,
                    password: newPassword
                };

                setCurrentUserAccount(updatedAccount); // Update local React state

                const allAccounts = getAllAccounts();
                const accountIndex = allAccounts.findIndex(acc => acc.bankId === currentUserAccount.bankId);
                if (accountIndex > -1) {
                    allAccounts[accountIndex] = updatedAccount;
                    saveAllAccounts(allAccounts); // Save updated account to localStorage
                    showModal('Success', 'Password changed successfully!', null);
                    setLoading(false);
                    return true;
                } else {
                    showModal('Error', 'Account not found in local storage.', null);
                    setLoading(false);
                    return false;
                }
            };

            // Logout Function (clears current user session)
            const handleLogout = () => {
                setCurrentUserAccount(null); // Clear the current user's account data
                setCurrentPage('login'); // Navigate back to the login page
                showModal('Logged Out', 'You have been successfully logged out.', null);
            };

            // Render current page
            const renderPage = () => {
                if (loading) {
                    return (
                        <div className="flex items-center justify-center min-h-screen bg-gray-900 text-green-400 text-2xl font-bold">
                            Loading Bank...
                        </div>
                    );
                }

                const commonPageProps = {
                    setCurrentPage,
                    currentUserAccount,
                    showModal,
                    handleLogout,
                    handleChangePassword,
                    handlePayTax
                };

                switch (currentPage) {
                    case 'login':
                        return <LoginPage {...commonPageProps} />;
                    case 'create-account':
                        return <CreateAccountPage {...commonPageProps} />;
                    case 'home':
                        return (
                            <div className="flex min-h-screen bg-gray-900 text-gray-100">
                                <Sidebar
                                    isOpen={isSidebarOpen}
                                    setIsOpen={setIsSidebarOpen}
                                    setCurrentPage={setCurrentPage}
                                    handleLogout={handleLogout}
                                />
                                <div className="flex-1 transition-all duration-300 ease-in-out">
                                    <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                                    <HomePage {...commonPageProps} />
                                </div>
                            </div>
                        );
                    case 'bank-status':
                        return (
                            <div className="flex min-h-screen bg-gray-900 text-gray-100">
                                <Sidebar
                                    isOpen={isSidebarOpen}
                                    setIsOpen={setIsSidebarOpen}
                                    setCurrentPage={setCurrentPage}
                                    handleLogout={handleLogout}
                                />
                                <div className="flex-1 transition-all duration-300 ease-in-out">
                                    <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                                    <BankStatusPage {...commonPageProps} />
                                </div>
                            </div>
                        );
                    case 'tax-page':
                        return (
                            <div className="flex min-h-screen bg-gray-900 text-gray-100">
                                <Sidebar
                                    isOpen={isSidebarOpen}
                                    setIsOpen={setIsSidebarOpen}
                                    setCurrentPage={setCurrentPage}
                                    handleLogout={handleLogout}
                                />
                                <div className="flex-1 transition-all duration-300 ease-in-out">
                                    <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                                    <TaxPage {...commonPageProps} />
                                </div>
                            </div>
                        );
                    case 'account-settings':
                        return (
                            <div className="flex min-h-screen bg-gray-900 text-gray-100">
                                <Sidebar
                                    isOpen={isSidebarOpen}
                                    setIsOpen={setIsSidebarOpen}
                                    setCurrentPage={setCurrentPage}
                                    handleLogout={handleLogout}
                                />
                                <div className="flex-1 transition-all duration-300 ease-in-out">
                                    <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                                    <AccountSettingsPage {...commonPageProps} />
                                </div>
                            </div>
                        );
                    case 'top-tax-payers':
                        return (
                            <div className="flex min-h-screen bg-gray-900 text-gray-100">
                                <Sidebar
                                    isOpen={isSidebarOpen}
                                    setIsOpen={setIsSidebarOpen}
                                    setCurrentPage={setCurrentPage}
                                    handleLogout={handleLogout}
                                />
                                <div className="flex-1 transition-all duration-300 ease-in-out">
                                    <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                                    <TopTaxPayersPage {...commonPageProps} />
                                </div>
                            </div>
                        );
                    case 'top-advance-tax-payers':
                        return (
                            <div className="flex min-h-screen bg-gray-900 text-gray-100">
                                <Sidebar
                                    isOpen={isSidebarOpen}
                                    setIsOpen={setIsSidebarOpen}
                                    setCurrentPage={setCurrentPage}
                                    handleLogout={handleLogout}
                                />
                                <div className="flex-1 transition-all duration-300 ease-in-out">
                                    <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                                    <TopAdvanceTaxPayersPage {...commonPageProps} />
                                </div>
                            </div>
                        );
                    case 'contact-us':
                        return (
                            <div className="flex min-h-screen bg-gray-900 text-gray-100">
                                <Sidebar
                                    isOpen={isSidebarOpen}
                                    setIsOpen={setIsSidebarOpen}
                                    setCurrentPage={setCurrentPage}
                                    handleLogout={handleLogout}
                                />
                                <div className="flex-1 transition-all duration-300 ease-in-out">
                                    <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                                    <ContactUsPage {...commonPageProps} />
                                </div>
                            </div>
                        );
                    case 'theme-setting':
                        return (
                            <div className="flex min-h-screen bg-gray-900 text-gray-100">
                                <Sidebar
                                    isOpen={isSidebarOpen}
                                    setIsOpen={setIsSidebarOpen}
                                    setCurrentPage={setCurrentPage}
                                    handleLogout={handleLogout}
                                />
                                <div className="flex-1 transition-all duration-300 ease-in-out">
                                    <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                                    <ThemeSettingPage {...commonPageProps} />
                                </div>
                            </div>
                        );
                    default:
                        return <LoginPage {...commonPageProps} />;
                }
            };

            return (
                <div className="font-inter antialiased">
                    {renderPage()}
                    <Modal isOpen={isModalOpen} title={modalTitle} message={modalMessage} onClose={closeModal} />
                </div>
            );
        };

        // TopBar Component
        const TopBar = ({ setIsSidebarOpen, currentUserAccount }) => {
            const getProfilePicChar = (name) => {
                return name ? name.charAt(0).toUpperCase() : '?';
            };

            return (
                <div className="bg-gray-800 p-4 flex items-center justify-between shadow-lg sticky top-0 z-10">
                    <button onClick={() => setIsSidebarOpen(true)} className="text-green-400 text-3xl focus:outline-none p-2 rounded-md hover:bg-gray-700 transition duration-200">
                        ☰
                    </button>
                    {currentUserAccount && (
                        <div className="flex items-center space-x-3">
                            <span className="text-lg font-semibold text-gray-100 hidden sm:block">{currentUserAccount.accountId}</span>
                            <div className="w-10 h-10 bg-green-700 rounded-full flex items-center justify-center text-white text-lg font-bold border-2 border-green-500 shadow-md">
                                {getProfilePicChar(currentUserAccount.accountId)}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Sidebar Component
        const Sidebar = ({ isOpen, setIsOpen, setCurrentPage, handleLogout }) => {
            const sidebarClass = isOpen ? 'translate-x-0' : '-translate-x-full';

            const navigateAndClose = (page) => {
                setCurrentPage(page);
                setIsOpen(false);
            };

            return (
                <>
                    {isOpen && (
                        <div className="fixed inset-0 bg-black opacity-50 z-20" onClick={() => setIsOpen(false)}></div>
                    )}
                    <div
                        className={`fixed inset-y-0 left-0 w-64 bg-gray-800 p-6 transform ${sidebarClass} transition-transform duration-300 ease-in-out shadow-xl z-30 flex flex-col rounded-r-xl border-r-4 border-gray-700`}
                    >
                        <div className="flex justify-between items-center mb-8">
                            <h2 className="text-3xl font-extrabold text-green-400">Menu</h2>
                            <button onClick={() => setIsOpen(false)} className="text-gray-400 text-3xl hover:text-white focus:outline-none p-1 rounded-md hover:bg-gray-700 transition duration-200">
                                &times;
                            </button>
                        </div>
                        <nav className="flex-grow space-y-4">
                            <SidebarButton onClick={() => navigateAndClose('home')}>🏠 Home</SidebarButton>
                            <SidebarButton onClick={() => navigateAndClose('account-settings')}>⚙️ Account Settings</SidebarButton>
                            <SidebarButton onClick={() => navigateAndClose('top-tax-payers')}>🏆 Top Tax Payers</SidebarButton>
                            <SidebarButton onClick={() => navigateAndClose('top-advance-tax-payers')}>💎 Top Advance Tax Payers</SidebarButton>
                            <SidebarButton onClick={() => navigateAndClose('contact-us')}>📞 Contact Us</SidebarButton>
                            <SidebarButton onClick={() => navigateAndClose('theme-setting')}>🎨 Theme Setting</SidebarButton>
                        </nav>
                        <div className="mt-8">
                            <SidebarButton onClick={handleLogout} className="bg-red-600 hover:bg-red-700">🚪 Logout</SidebarButton>
                        </div>
                    </div>
                </>
            );
        };

        // Sidebar Button Component
        const SidebarButton = ({ children, onClick, className = '' }) => (
            <button
                onClick={onClick}
                className={`w-full text-left py-3 px-4 rounded-md text-lg font-semibold text-gray-200 hover:bg-gray-700 transition duration-200 shadow-md transform hover:scale-[1.02] ${className}`}
            >
                {children}
            </button>
        );

        // Render the main App component into the 'root' div
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);

    </script>
</body>
</html>
```
