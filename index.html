import React, { useState, useEffect, useRef } from 'react';

// --- Utility Functions ---

/**
 * Copies a given text string to the clipboard.
 * Uses document.execCommand('copy') for broader compatibility in iframe environments.
 * @param {string} text - The text to copy.
 * @returns {boolean} - True if copied successfully, false otherwise.
 */
const copyToClipboard = (text) => {
    const textarea = document.createElement('textarea');
    textarea.value = text;
    textarea.style.position = 'fixed'; // Avoid scrolling to bottom
    textarea.style.left = '-9999px'; // Move off-screen
    document.body.appendChild(textarea);
    textarea.focus();
    textarea.select();
    try {
        document.execCommand('copy');
        return true;
    } catch (err) {
        console.error('Failed to copy text: ', err);
        return false;
    } finally {
        document.body.removeChild(textarea);
    }
};

// --- Custom Modal Component ---

/**
 * A reusable modal component for displaying messages to the user.
 * @param {object} props - Component props.
 * @param {boolean} props.isOpen - Controls the visibility of the modal.
 * @param {string} props.title - The title text for the modal.
 * @param {string} props.message - The main message content of the modal.
 * @param {function} props.onClose - Function to call when the modal is closed.
 */
const Modal = ({ isOpen, title, message, onClose }) => {
    if (!isOpen) return null;

    return (
        <div className="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50">
            <div className="bg-white rounded-lg shadow-xl p-6 max-w-sm w-full border-4 border-gray-800">
                <h3 className="text-xl font-bold text-gray-900 mb-4">{title}</h3>
                <p className="text-gray-700 mb-6">{message}</p>
                <div className="flex justify-end">
                    <button
                        onClick={onClose}
                        className="px-4 py-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-200"
                    >
                        Close
                    </button>
                </div>
            </div>
        </div>
    );
};

// --- Main App Component ---

/**
 * The main application component for the Minecraft Bank.
 * Manages global state, page routing, and localStorage interactions for user data.
 */
export default function App() {
    // State to manage the currently displayed page
    const [currentPage, setCurrentPage] = useState('login'); // Possible states: 'login', 'create-account', 'home', 'bank-status', 'tax-page', 'account-settings', 'top-tax-payers', 'top-advance-tax-payers', 'contact-us', 'theme-setting'
    // State to hold the data of the currently logged-in user's account
    const [currentUserAccount, setCurrentUserAccount] = useState(null);
    // State to manage the loading indicator visibility
    const [loading, setLoading] = useState(true);
    // State to control the visibility of the sidebar menu
    const [isSidebarOpen, setIsSidebarOpen] = useState(false);

    // Modal state for displaying pop-up messages
    const [isModalOpen, setIsModalOpen] = useState(false);
    const [modalTitle, setModalTitle] = useState('');
    const [modalMessage, setModalMessage] = useState('');
    // Ref to store a callback function to be executed when the modal is closed
    const modalCallbackRef = useRef(null);

    /**
     * Displays a custom modal with a given title and message.
     * An optional callback can be provided to run after the modal is closed.
     * @param {string} title - The title of the modal.
     * @param {string} message - The message content of the modal.
     * @param {function} [callback=null] - Optional function to execute on modal close.
     */
    const showModal = (title, message, callback = null) => {
        setModalTitle(title);
        setModalMessage(message);
        modalCallbackRef.current = callback; // Store the callback
        setIsModalOpen(true);
    };

    /**
     * Closes the currently open modal and executes any stored callback.
     */
    const closeModal = () => {
        setIsModalOpen(false);
        setModalTitle('');
        setModalMessage('');
        if (modalCallbackRef.current) {
            modalCallbackRef.current(); // Execute callback if it exists
            modalCallbackRef.current = null; // Clear the ref
        }
    };

    // Effect hook to load accounts from localStorage when the component mounts
    useEffect(() => {
        try {
            const storedAccounts = JSON.parse(localStorage.getItem('minecraftBankAccounts') || '[]');
            console.log("Loaded accounts from localStorage:", storedAccounts);
        } catch (e) {
            console.error("Failed to parse accounts from localStorage:", e);
            localStorage.removeItem('minecraftBankAccounts'); // Clear corrupt data to prevent future errors
        } finally {
            setLoading(false); // Stop loading regardless of success/failure
        }
    }, []); // Empty dependency array ensures this runs only once on mount

    /**
     * Retrieves all stored bank accounts from localStorage.
     * @returns {Array<object>} An array of bank account objects.
     */
    const getAllAccounts = () => {
        try {
            return JSON.parse(localStorage.getItem('minecraftBankAccounts') || '[]');
        } catch (e) {
            console.error("Error reading from localStorage:", e);
            return [];
        }
    };

    /**
     * Saves a given array of bank account objects to localStorage.
     * @param {Array<object>} accounts - The array of bank account objects to save.
     */
    const saveAllAccounts = (accounts) => {
        try {
            localStorage.setItem('minecraftBankAccounts', JSON.stringify(accounts));
        } catch (e) {
            console.error("Error writing to localStorage:", e);
        }
    };

    /**
     * Handles user login by checking provided credentials against accounts in localStorage.
     * @param {string} bankId - The Bank ID entered by the user.
     * @param {string} password - The password entered by the user.
     * @param {string} mcName - The Minecraft Name entered by the user (required for Bedrock).
     * @param {string} edition - The Minecraft Edition ('java' or 'bedrock').
     */
    const handleLogin = (bankId, password, mcName, edition) => {
        setLoading(true);
        const accounts = getAllAccounts();
        const foundAccount = accounts.find(account =>
            account.bankId === bankId &&
            account.password === password &&
            (edition === 'java' || account.accountId === mcName) // For bedrock, mcName must match
        );

        if (foundAccount) {
            setCurrentUserAccount(foundAccount); // Set the logged-in account
            setCurrentPage('home'); // Navigate to home page
            showModal('Login Successful!', `Welcome back, ${foundAccount.accountId}!`, null);
        } else {
            showModal('Login Failed', 'Invalid Bank ID, Password, or Minecraft Name. Please try again.', null);
        }
        setLoading(false);
    };

    /**
     * Handles the creation of a new bank account and saves it to localStorage.
     * @param {string} bankName - The name of the bank.
     * @param {string} accountId - The Minecraft Name/Account ID for the new account.
     * @param {string} bankPassword - The password for the new account.
     * @param {string} newBankId - The newly generated unique Bank ID.
     * @param {string} edition - The Minecraft Edition ('java' or 'bedrock').
     * @returns {boolean} - True if account created successfully, false otherwise.
     */
    const handleCreateAccount = (bankName, accountId, bankPassword, newBankId, edition) => {
        setLoading(true);
        const accounts = getAllAccounts();

        // Check if an account with this Minecraft Name or Bank ID already exists
        const accountExists = accounts.some(account =>
            account.accountId === accountId || account.bankId === newBankId
        );

        if (accountExists) {
            showModal('Creation Failed', 'An account with this Minecraft Name or Bank ID already exists. Please use a different name/ID or login.', null);
            setLoading(false);
            return false;
        }

        const newAccount = {
            bankName,
            accountId,
            password: bankPassword, // NOTE: In a real application, passwords should be securely hashed!
            bankId: newBankId,
            balance: 100.00, // Initial balance for new accounts
            edition,
            taxData: {
                sellingTax: 0,
                buyingTax: 0,
                totalTax: 10.00, // Example: initial tax due for demo purposes
                taxPaid: 0,
            },
            transactions: [] // Initialize with an empty array for transactions
        };

        const updatedAccounts = [...accounts, newAccount];
        saveAllAccounts(updatedAccounts); // Save the new list of accounts to localStorage
        setCurrentUserAccount(newAccount); // Set the newly created account as the current user's account
        console.log('Account created successfully:', newAccount);
        setLoading(false);
        return true;
    };

    /**
     * Handles paying the total tax due from the current user's balance.
     * Updates account balance and tax data in localStorage.
     * @param {number} amount - The amount of tax to pay.
     */
    const handlePayTax = (amount) => {
        setLoading(true);
        if (!currentUserAccount) {
            showModal('Error', 'No active account to pay tax.', null);
            setLoading(false);
            return;
        }

        const currentBalance = currentUserAccount.balance || 0;
        const currentTotalTax = currentUserAccount.taxData?.totalTax || 0;

        // Check for sufficient balance
        if (currentBalance < amount) {
            showModal('Payment Failed', 'Insufficient balance to pay tax.', null);
            setLoading(false);
            return;
        }

        // Calculate new balances and tax data
        const newBalance = currentBalance - amount;
        const newTotalTax = Math.max(0, currentTotalTax - amount); // Ensure total tax doesn't go below zero
        const newTaxPaid = (currentUserAccount.taxData?.taxPaid || 0) + amount;

        // Add a new transaction record
        const updatedTransactions = [
            ...(currentUserAccount.transactions || []),
            {
                type: 'Tax Payment',
                amount: -amount, // Negative amount signifies money outflow
                date: new Date().toISOString(), // ISO string for consistent date handling
                description: `Paid ${amount.toFixed(2)} in tax`
            }
        ];

        // Create an updated account object
        const updatedAccount = {
            ...currentUserAccount,
            balance: newBalance,
            taxData: {
                ...currentUserAccount.taxData, // Keep existing taxData properties
                totalTax: newTotalTax,
                taxPaid: newTaxPaid
            },
            transactions: updatedTransactions
        };

        setCurrentUserAccount(updatedAccount); // Update local React state

        // Find and update the account in the global list of accounts in localStorage
        const allAccounts = getAllAccounts();
        const accountIndex = allAccounts.findIndex(acc => acc.bankId === currentUserAccount.bankId);
        if (accountIndex > -1) {
            allAccounts[accountIndex] = updatedAccount;
            saveAllAccounts(allAccounts); // Save updated account list to localStorage
            showModal('Tax Paid!', `Successfully paid $${amount.toFixed(2)} in tax.`, null);
        } else {
            showModal('Error', 'Account not found in local storage. Data might be desynchronized.', null);
        }
        setLoading(false);
    };

    /**
     * Handles changing the password for the current user's account.
     * @param {string} oldPassword - The current password entered by the user.
     * @param {string} newPassword - The new password the user wishes to set.
     * @returns {boolean} - True if password changed successfully, false otherwise.
     */
    const handleChangePassword = (oldPassword, newPassword) => {
        setLoading(true);
        if (!currentUserAccount) {
            showModal('Error', 'No active account to change password.', null);
            setLoading(false);
            return false;
        }

        // IMPORTANT: In a real application, you would compare securely hashed passwords.
        // For this local storage demo, we do a direct string comparison.
        if (currentUserAccount.password !== oldPassword) {
            showModal('Error', 'Old password is incorrect.', null);
            setLoading(false);
            return false;
        }

        const updatedAccount = {
            ...currentUserAccount,
            password: newPassword // Update the password
        };

        setCurrentUserAccount(updatedAccount); // Update local React state

        // Find and update the account in the global list of accounts in localStorage
        const allAccounts = getAllAccounts();
        const accountIndex = allAccounts.findIndex(acc => acc.bankId === currentUserAccount.bankId);
        if (accountIndex > -1) {
            allAccounts[accountIndex] = updatedAccount;
            saveAllAccounts(allAccounts); // Save updated account list to localStorage
            showModal('Success', 'Password changed successfully!', null);
            setLoading(false);
            return true;
        } else {
            showModal('Error', 'Account not found in local storage. Data might be desynchronized.', null);
            setLoading(false);
            return false;
        }
    };

    /**
     * Logs out the current user by clearing the current account state and returning to the login page.
     */
    const handleLogout = () => {
        setCurrentUserAccount(null); // Clear the current user's account data
        setCurrentPage('login'); // Navigate back to the login page
        showModal('Logged Out', 'You have been successfully logged out.', null);
    };

    // --- Page Rendering Logic ---

    /**
     * Renders the appropriate page component based on the `currentPage` state.
     * Displays a loading message if the app is still initializing.
     */
    const renderPage = () => {
        if (loading) {
            return (
                <div className="flex items-center justify-center min-h-screen bg-gray-900 text-green-400 text-2xl font-bold">
                    Loading Bank...
                </div>
            );
        }

        // Common props passed to most page components
        const commonPageProps = {
            setCurrentPage,
            currentUserAccount,
            showModal,
            handleLogout,
            handleChangePassword,
            handlePayTax
        };

        // Use a switch statement to render the correct page
        switch (currentPage) {
            case 'login':
                return <LoginPage {...commonPageProps} />;
            case 'create-account':
                return <CreateAccountPage {...commonPageProps} />;
            case 'home':
                return (
                    // The main application layout including sidebar and top bar
                    <div className="flex min-h-screen bg-gray-900 text-gray-100">
                        <Sidebar
                            isOpen={isSidebarOpen}
                            setIsOpen={setIsSidebarOpen}
                            setCurrentPage={setCurrentPage}
                            handleLogout={handleLogout}
                        />
                        <div className="flex-1 transition-all duration-300 ease-in-out">
                            <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                            <HomePage {...commonPageProps} />
                        </div>
                    </div>
                );
            case 'bank-status':
                return (
                    <div className="flex min-h-screen bg-gray-900 text-gray-100">
                        <Sidebar
                            isOpen={isSidebarOpen}
                            setIsOpen={setIsSidebarOpen}
                            setCurrentPage={setCurrentPage}
                            handleLogout={handleLogout}
                        />
                        <div className="flex-1 transition-all duration-300 ease-in-out">
                            <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                            <BankStatusPage {...commonPageProps} />
                        </div>
                    </div>
                );
            case 'tax-page':
                return (
                    <div className="flex min-h-screen bg-gray-900 text-gray-100">
                        <Sidebar
                            isOpen={isSidebarOpen}
                            setIsOpen={setIsSidebarOpen}
                            setCurrentPage={setCurrentPage}
                            handleLogout={handleLogout}
                        />
                        <div className="flex-1 transition-all duration-300 ease-in-out">
                            <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                            <TaxPage {...commonPageProps} />
                        </div>
                    </div>
                );
            case 'account-settings':
                return (
                    <div className="flex min-h-screen bg-gray-900 text-gray-100">
                        <Sidebar
                            isOpen={isSidebarOpen}
                            setIsOpen={setIsSidebarOpen}
                            setCurrentPage={setCurrentPage}
                            handleLogout={handleLogout}
                        />
                        <div className="flex-1 transition-all duration-300 ease-in-out">
                            <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                            <AccountSettingsPage {...commonPageProps} />
                        </div>
                    </div>
                );
            case 'top-tax-payers':
                return (
                    <div className="flex min-h-screen bg-gray-900 text-gray-100">
                        <Sidebar
                            isOpen={isSidebarOpen}
                            setIsOpen={setIsSidebarOpen}
                            setCurrentPage={setCurrentPage}
                            handleLogout={handleLogout}
                        />
                        <div className="flex-1 transition-all duration-300 ease-in-out">
                            <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                            <TopTaxPayersPage {...commonPageProps} />
                        </div>
                    </div>
                );
            case 'top-advance-tax-payers':
                return (
                    <div className="flex min-h-screen bg-gray-900 text-gray-100">
                        <Sidebar
                            isOpen={isSidebarOpen}
                            setIsOpen={setIsSidebarOpen}
                            setCurrentPage={setCurrentPage}
                            handleLogout={handleLogout}
                        />
                        <div className="flex-1 transition-all duration-300 ease-in-out">
                            <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                            <TopAdvanceTaxPayersPage {...commonPageProps} />
                        </div>
                    </div>
                );
            case 'contact-us':
                return (
                    <div className="flex min-h-screen bg-gray-900 text-gray-100">
                        <Sidebar
                            isOpen={isSidebarOpen}
                            setIsOpen={setIsSidebarOpen}
                            setCurrentPage={setCurrentPage}
                            handleLogout={handleLogout}
                        />
                        <div className="flex-1 transition-all duration-300 ease-in-out">
                            <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                            <ContactUsPage {...commonPageProps} />
                        </div>
                    </div>
                );
            case 'theme-setting':
                return (
                    <div className="flex min-h-screen bg-gray-900 text-gray-100">
                        <Sidebar
                            isOpen={isSidebarOpen}
                            setIsOpen={setIsSidebarOpen}
                            setCurrentPage={setCurrentPage}
                            handleLogout={handleLogout}
                        />
                        <div className="flex-1 transition-all duration-300 ease-in-out">
                            <TopBar setIsSidebarOpen={setIsSidebarOpen} currentUserAccount={currentUserAccount} />
                            <ThemeSettingPage {...commonPageProps} />
                        </div>
                    </div>
                );
            default:
                return <LoginPage {...commonPageProps} />;
        }
    };

    return (
        <div className="font-inter antialiased">
            {/* Tailwind CSS and custom styles for Minecraft theme */}
            <style>
                {`
                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
                body { font-family: 'Inter', sans-serif; }
                /* Custom styles for Minecraft-like buttons or elements */
                .shadow-minecraft {
                    box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.4);
                }
                .hover\\:shadow-minecraft-lg:hover {
                    box-shadow: 6px 6px 0px rgba(0, 0, 0, 0.6);
                }
                .border-pixel {
                    border-image: url('data:image/svg+xml;utf8,<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><rect x="0" y="0" width="10" height="10" fill="transparent" stroke="%23333" stroke-width="1"/></svg>') 3 stretch;
                    border-width: 4px;
                    border-style: solid;
                }
                `}
            </style>
            {renderPage()} {/* Render the currently active page */}
            <Modal isOpen={isModalOpen} title={modalTitle} message={modalMessage} onClose={closeModal} />
        </div>
    );
}

// --- UI Layout Components (TopBar, Sidebar, SidebarButton) ---

/**
 * Top navigation bar component.
 * Includes a menu button to open the sidebar and displays current user's MC Name/profile pic.
 * @param {object} props - Component props.
 * @param {function} props.setIsSidebarOpen - Function to toggle sidebar visibility.
 * @param {object} props.currentUserAccount - The account object of the currently logged-in user.
 */
const TopBar = ({ setIsSidebarOpen, currentUserAccount }) => {
    // Helper to get the first letter of the Minecraft name for a profile picture placeholder
    const getProfilePicChar = (name) => {
        return name ? name.charAt(0).toUpperCase() : '?';
    };

    return (
        <div className="bg-gray-800 p-4 flex items-center justify-between shadow-lg sticky top-0 z-10">
            <button onClick={() => setIsSidebarOpen(true)} className="text-green-400 text-3xl focus:outline-none p-2 rounded-md hover:bg-gray-700 transition duration-200">
                ☰ {/* Hamburger icon */}
            </button>
            {currentUserAccount && (
                <div className="flex items-center space-x-3">
                    <span className="text-lg font-semibold text-gray-100 hidden sm:block">{currentUserAccount.accountId}</span>
                    <div className="w-10 h-10 bg-green-700 rounded-full flex items-center justify-center text-white text-lg font-bold border-2 border-green-500 shadow-md">
                        {getProfilePicChar(currentUserAccount.accountId)}
                    </div>
                </div>
            )}
        </div>
    );
};

/**
 * Sidebar navigation menu component.
 * @param {object} props - Component props.
 * @param {boolean} props.isOpen - Controls the visibility of the sidebar.
 * @param {function} props.setIsOpen - Function to set sidebar visibility.
 * @param {function} props.setCurrentPage - Function to change the current page in the App.
 * @param {function} props.handleLogout - Function to log out the user.
 */
const Sidebar = ({ isOpen, setIsOpen, setCurrentPage, handleLogout }) => {
    // CSS class to control sidebar's transform property for sliding animation
    const sidebarClass = isOpen ? 'translate-x-0' : '-translate-x-full';

    /**
     * Navigates to a specified page and then closes the sidebar.
     * @param {string} page - The target page name.
     */
    const navigateAndClose = (page) => {
        setCurrentPage(page);
        setIsOpen(false);
    };

    return (
        <>
            {/* Overlay that darkens the background and closes the sidebar when clicked outside */}
            {isOpen && (
                <div className="fixed inset-0 bg-black opacity-50 z-20" onClick={() => setIsOpen(false)}></div>
            )}
            {/* Main sidebar content */}
            <div
                className={`fixed inset-y-0 left-0 w-64 bg-gray-800 p-6 transform ${sidebarClass} transition-transform duration-300 ease-in-out shadow-xl z-30 flex flex-col rounded-r-xl border-r-4 border-gray-700`}
            >
                <div className="flex justify-between items-center mb-8">
                    <h2 className="text-3xl font-extrabold text-green-400">Menu</h2>
                    <button onClick={() => setIsOpen(false)} className="text-gray-400 text-3xl hover:text-white focus:outline-none p-1 rounded-md hover:bg-gray-700 transition duration-200">
                        &times; {/* Close button */}
                    </button>
                </div>
                {/* Navigation links */}
                <nav className="flex-grow space-y-4">
                    <SidebarButton onClick={() => navigateAndClose('home')}>🏠 Home</SidebarButton>
                    <SidebarButton onClick={() => navigateAndClose('account-settings')}>⚙️ Account Settings</SidebarButton>
                    <SidebarButton onClick={() => navigateAndClose('top-tax-payers')}>🏆 Top Tax Payers</SidebarButton>
                    <SidebarButton onClick={() => navigateAndClose('top-advance-tax-payers')}>💎 Top Advance Tax Payers</SidebarButton>
                    <SidebarButton onClick={() => navigateAndClose('contact-us')}>📞 Contact Us</SidebarButton>
                    <SidebarButton onClick={() => navigateAndClose('theme-setting')}>🎨 Theme Setting</SidebarButton>
                </nav>
                {/* Logout button */}
                <div className="mt-8">
                    <SidebarButton onClick={handleLogout} className="bg-red-600 hover:bg-red-700">🚪 Logout</SidebarButton>
                </div>
            </div>
        </>
    );
};

/**
 * A styled button component specifically for the sidebar.
 * @param {object} props - Component props.
 * @param {React.ReactNode} props.children - The content to display inside the button.
 * @param {function} props.onClick - The function to call when the button is clicked.
 * @param {string} [props.className=''] - Additional CSS classes to apply.
 */
const SidebarButton = ({ children, onClick, className = '' }) => (
    <button
        onClick={onClick}
        className={`w-full text-left py-3 px-4 rounded-md text-lg font-semibold text-gray-200 hover:bg-gray-700 transition duration-200 shadow-md transform hover:scale-[1.02] ${className}`}
    >
        {children}
    </button>
);
import React, { useState } from 'react'; // Assuming React is imported in your main App.js file

/**
 * Login page component for existing Minecraft bank accounts.
 * Allows users to select their Minecraft edition and enter credentials to log in.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 * @param {function} props.handleLogin - Function to handle the login logic.
 * @param {function} props.showModal - Function to display application messages.
 */
const LoginPage = ({ setCurrentPage, handleLogin, showModal }) => {
    const [bankId, setBankId] = useState('');
    const [password, setPassword] = useState('');
    const [mcName, setMcName] = useState('');
    const [edition, setEdition] = useState('java'); // 'java' or 'bedrock'

    const onSubmit = (e) => {
        e.preventDefault();
        // Call the main app's login handler
        handleLogin(bankId, password, mcName, edition);
    };

    return (
        <div className="flex flex-col items-center justify-center min-h-screen bg-gray-900 p-4">
            <div className="bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-md border-4 border-gray-700">
                <h2 className="text-3xl font-bold text-green-400 mb-6 text-center">Minecraft Bank Login</h2>
                <div className="mb-6">
                    <label htmlFor="edition" className="block text-gray-300 text-sm font-bold mb-2">
                        Minecraft Edition:
                    </label>
                    <select
                        id="edition"
                        value={edition}
                        onChange={(e) => setEdition(e.target.value)}
                        className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                    >
                        <option value="java">Java Edition</option>
                        <option value="bedrock">Bedrock Edition</option>
                    </select>
                </div>
                <form onSubmit={onSubmit}>
                    <div className="mb-4">
                        <label htmlFor="bankId" className="block text-gray-300 text-sm font-bold mb-2">
                            Bank ID:
                        </label>
                        <input
                            type="text"
                            id="bankId"
                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            value={bankId}
                            onChange={(e) => setBankId(e.target.value)}
                            placeholder="BANK006443"
                            required
                        />
                    </div>
                    <div className="mb-4">
                        <label htmlFor="password" className="block text-gray-300 text-sm font-bold mb-2">
                            Password:
                        </label>
                        <input
                            type="password"
                            id="password"
                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            value={password}
                            onChange={(e) => setPassword(e.target.value)}
                            placeholder="********"
                            required
                        />
                    </div>
                    {edition === 'bedrock' && (
                        <div className="mb-6">
                            <label htmlFor="mcName" className="block text-gray-300 text-sm font-bold mb-2">
                                Minecraft Name:
                            </label>
                            <div className="relative">
                                <div className="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">
                                    <span className="text-xl">📦</span>
                                </div>
                                <input
                                    type="text"
                                    id="mcName"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 pl-10 pr-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={mcName}
                                    onChange={(e) => setMcName(e.target.value)}
                                    placeholder="enter mc name"
                                    required
                                />
                                <div className="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400">
                                    <span className="text-xl">📦</span>
                                </div>
                            </div>
                        </div>
                    )}
                    <div className="flex items-center justify-between mb-4">
                        <button
                            type="submit"
                            className="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-200 shadow-md transform hover:scale-105"
                        >
                            Login
                        </button>
                    </div>
                </form>
                <div className="text-center mt-6">
                    <p className="text-gray-400">Don't have an account?</p>
                    <button
                        onClick={() => setCurrentPage('create-account')}
                        className="text-green-400 hover:underline font-semibold mt-2 focus:outline-none"
                    >
                        Create one!
                    </button>
                </div>
            </div>
        </div>
    );
};
import React, { useState } from 'react'; // Assuming React is imported in your main App.js file

/**
 * Creates a new Minecraft bank account.
 * Generates a unique bank ID and allows copying it to clipboard.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 * @param {function} props.handleCreateAccount - Function to handle account creation logic.
 * @param {function} props.showModal - Function to display application messages.
 * @param {function} props.copyToClipboard - Utility function to copy text.
 */
const CreateAccountPage = ({ setCurrentPage, handleCreateAccount, showModal, copyToClipboard }) => {
    const [bankName, setBankName] = useState('');
    const [accountId, setAccountId] = useState('');
    const [bankPassword, setBankPassword] = useState('');
    const [generatedBankId, setGeneratedBankId] = useState('');
    const [edition, setEdition] = useState('java'); // 'java' or 'bedrock'

    /**
     * Generates a random unique Bank ID in the format "BANKXXXXXX".
     * @returns {string} The generated Bank ID.
     */
    const generateBankId = () => {
        const randomNum = Math.floor(100000 + Math.random() * 900000); // 6-digit random number
        return `BANK${randomNum}`;
    };

    /**
     * Handles the form submission for creating a new account.
     * Generates a new Bank ID and calls the main app's creation handler.
     * @param {Event} e - The form submission event.
     */
    const onSubmit = async (e) => {
        e.preventDefault();
        const newBankId = generateBankId();
        setGeneratedBankId(newBankId); // Display it immediately

        const success = handleCreateAccount(bankName, accountId, bankPassword, newBankId, edition);
        if (success) {
            // Show success modal and then navigate to login page
            showModal('Account Created!', `Your Bank ID is: ${newBankId}. Please copy it and keep it safe!`, () => {
                setCurrentPage('login');
            });
        }
    };

    /**
     * Handles copying the generated Bank ID to the clipboard.
     */
    const handleCopy = () => {
        if (copyToClipboard(generatedBankId)) {
            showModal('Copied!', 'Bank ID copied to clipboard!', null);
        } else {
            showModal('Error', 'Failed to copy Bank ID. Please copy manually.', null);
        }
    };

    return (
        <div className="flex flex-col items-center justify-center min-h-screen bg-gray-900 p-4">
            <div className="bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-md border-4 border-gray-700">
                <h2 className="text-3xl font-bold text-green-400 mb-6 text-center">Create Minecraft Bank Account</h2>
                <div className="mb-6">
                    <label htmlFor="edition" className="block text-gray-300 text-sm font-bold mb-2">
                        Minecraft Edition:
                    </label>
                    <select
                        id="edition"
                        value={edition}
                        onChange={(e) => setEdition(e.target.value)}
                        className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                    >
                        <option value="java">Java Edition</option>
                        <option value="bedrock">Bedrock Edition</option>
                    </select>
                </div>
                <form onSubmit={onSubmit}>
                    <div className="mb-4">
                        <label htmlFor="bankName" className="block text-gray-300 text-sm font-bold mb-2">
                            Bank Name:
                        </label>
                        <input
                            type="text"
                            id="bankName"
                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            value={bankName}
                            onChange={(e) => setBankName(e.target.value)}
                            placeholder="My Server Bank"
                            required
                        />
                    </div>
                    <div className="mb-4">
                        <label htmlFor="accountId" className="block text-gray-300 text-sm font-bold mb-2">
                            {edition === 'java' ? 'Account ID (In-game Name):' : 'Minecraft Name:'}
                        </label>
                        {edition === 'java' ? (
                            <input
                                type="text"
                                id="accountId"
                                className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                value={accountId}
                                onChange={(e) => setAccountId(e.target.value)}
                                placeholder="PlayerIGN"
                                required
                            />
                        ) : (
                            <div className="relative">
                                <div className="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">
                                    <span className="text-xl">📦</span>
                                </div>
                                <input
                                    type="text"
                                    id="accountId"
                                    className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 pl-10 pr-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                                    value={accountId}
                                    onChange={(e) => setAccountId(e.target.value)}
                                    placeholder="enter mc name"
                                    required
                                />
                                <div className="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400">
                                    <span className="text-xl">📦</span>
                                </div>
                            </div>
                        )}
                    </div>
                    <div className="mb-6">
                        <label htmlFor="bankPassword" className="block text-gray-300 text-sm font-bold mb-2">
                            Bank Password:
                        </label>
                        <input
                            type="password"
                            id="bankPassword"
                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            value={bankPassword}
                            onChange={(e) => setBankPassword(e.target.value)}
                            placeholder="********"
                            required
                        />
                    </div>
                    {generatedBankId && (
                        <div className="mb-6 p-4 bg-gray-700 rounded-md border border-green-500 flex items-center justify-between">
                            <span className="text-green-300 text-sm font-mono break-all pr-2">
                                Your Bank ID: <span className="font-bold text-lg">{generatedBankId}</span>
                            </span>
                            <button
                                type="button"
                                onClick={handleCopy}
                                className="bg-green-500 hover:bg-green-600 text-white text-sm font-semibold py-1 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75 transition duration-200"
                            >
                                Copy
                            </button>
                        </div>
                    )}
                    <div className="flex items-center justify-between mb-4">
                        <button
                            type="submit"
                            className="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-200 shadow-md transform hover:scale-105"
                        >
                            Create Account
                        </button>
                    </div>
                </form>
                <div className="text-center mt-6">
                    <p className="text-gray-400">Already have an account?</p>
                    <button
                        onClick={() => setCurrentPage('login')}
                        className="text-green-400 hover:underline font-semibold mt-2 focus:outline-none"
                    >
                        Login here!
                    </button>
                </div>
            </div>
        </div>
    );
};
import React from 'react'; // Assuming React is imported in your main App.js file

/**
 * Home page component displayed after a successful login.
 * Provides navigation options to different bank functionalities.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 * @param {object} props.currentUserAccount - The account object of the currently logged-in user.
 * @param {function} props.showModal - Function to display application messages.
 */
const HomePage = ({ setCurrentPage, currentUserAccount, showModal }) => {
    if (!currentUserAccount) return null; // Don't render if no user account is loaded

    /**
     * Extracts the first letter of the Minecraft name for a profile picture placeholder.
     * @param {string} name - The Minecraft name.
     * @returns {string} The first letter in uppercase, or '?' if name is empty.
     */
    const getProfilePicChar = (name) => {
        return name ? name.charAt(0).toUpperCase() : '?';
    };

    return (
        <div className="p-6 bg-gray-900 text-gray-100 min-h-screen flex flex-col">
            {/* Header section with page title and user profile pic */}
            <div className="flex justify-between items-center mb-8">
                <h1 className="text-4xl font-extrabold text-green-400 drop-shadow-lg">Bank Home</h1>
                <div className="flex items-center space-x-4">
                    <span className="text-lg font-semibold">{currentUserAccount.accountId}</span>
                    <div className="w-12 h-12 bg-green-700 rounded-full flex items-center justify-center text-white text-xl font-bold shadow-md border-2 border-green-500">
                        {getProfilePicChar(currentUserAccount.accountId)}
                    </div>
                </div>
            </div>

            {/* Main navigation grid for bank features */}
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 flex-grow">
                {/* Bank Status button */}
                <button
                    onClick={() => setCurrentPage('bank-status')}
                    className="flex flex-col items-center justify-center bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 transform hover:scale-105 transition duration-300 group"
                >
                    <div className="text-6xl text-blue-400 mb-4 group-hover:animate-bounce">💰</div>
                    <span className="text-2xl font-bold text-blue-300 group-hover:text-blue-200">Bank Status</span>
                </button>

                {/* View Tax button */}
                <button
                    onClick={() => setCurrentPage('tax-page')}
                    className="flex flex-col items-center justify-center bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 transform hover:scale-105 transition duration-300 group"
                >
                    <div className="text-6xl text-red-400 mb-4 group-hover:animate-bounce">🧾</div>
                    <span className="text-2xl font-bold text-red-300 group-hover:text-red-200">View Tax</span>
                </button>

                {/* Apply Loan button (placeholder) */}
                <button
                    onClick={() => { showModal('Feature Coming Soon', 'Loan application functionality is under development.', null); }}
                    className="flex flex-col items-center justify-center bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 transform hover:scale-105 transition duration-300 group"
                >
                    <div className="text-6xl text-yellow-400 mb-4 group-hover:animate-bounce">🤝</div>
                    <span className="text-2xl font-bold text-yellow-300 group-hover:text-yellow-200">Apply Loan</span>
                </button>
            </div>
        </div>
    );
};
import React from 'react'; // Assuming React is imported in your main App.js file

/**
 * Bank Status page component.
 * Displays an overview of the user's bank account, including balance and general information.
 * Also features mock transaction history categories.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 * @param {object} props.currentUserAccount - The account object of the currently logged-in user.
 * @param {function} props.showModal - Function to display application messages.
 */
const BankStatusPage = ({ setCurrentPage, currentUserAccount, showModal }) => {
    if (!currentUserAccount) return null; // Don't render if no user account is loaded

    return (
        <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
            <h1 className="text-4xl font-extrabold text-green-400 mb-8 drop-shadow-lg">Bank Status</h1>

            <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                <h2 className="text-2xl font-bold text-blue-300 mb-4">Account Overview</h2>
                <p className="text-lg mb-2"><strong className="text-gray-300">Bank Name:</strong> {currentUserAccount.bankName}</p>
                {/* Displaying balance prominently */}
                <p className="text-lg mb-2"><strong className="text-3xl text-green-500">Bank Balance: ${currentUserAccount.balance ? currentUserAccount.balance.toFixed(2) : '0.00'}</strong></p>
                <p className="text-lg mb-4"><strong className="text-gray-300">Bank Info:</strong> Welcome to the Royal Minecraft Bank! We are dedicated to securing your in-game wealth and supporting your server's economy. Your funds are safe with us.</p>

                {/* Mock Transaction History Categories */}
                <h3 className="text-xl font-bold text-blue-300 mt-6 mb-4">Transaction History Categories (Mock)</h3>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button
                        onClick={() => showModal('Shop Transactions', 'This section would display your shop transaction history.', null)}
                        className="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                    >
                        Shop Transactions
                    </button>
                    <button
                        onClick={() => showModal('Job Transactions', 'This section would display your job-related transaction history.', null)}
                        className="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                    >
                        Job Transactions
                    </button>
                    <button
                        onClick={() => showModal('Player to Player Transactions', 'This section would display your player-to-player transfer history.', null)}
                        className="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                    >
                        Player to Player Transactions
                    </button>
                </div>
            </div>

            {/* Back to Home button */}
            <button
                onClick={() => setCurrentPage('home')}
                className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
            >
                ← Back to Home
            </button>
        </div>
    );
};
import React from 'react'; // Assuming React is imported in your main App.js file

/**
 * Tax page component.
 * Displays detailed tax information, allows paying tax, and shows recent tax transactions.
 * This consolidates previous 'View Tax' and 'Detailed Tax View' pages.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 * @param {object} props.currentUserAccount - The account object of the currently logged-in user.
 * @param {function} props.handlePayTax - Function to handle paying tax.
 * @param {function} props.showModal - Function to display application messages.
 */
const TaxPage = ({ setCurrentPage, currentUserAccount, handlePayTax, showModal }) => {
    if (!currentUserAccount) return null; // Don't render if no user account is loaded

    const { bankName, accountId, taxData, transactions } = currentUserAccount;
    const sellingTax = taxData?.sellingTax || 0;
    const buyingTax = taxData?.buyingTax || 0;
    const totalTax = taxData?.totalTax || 0;
    const taxPaid = taxData?.taxPaid || 0;

    /**
     * Extracts the first letter of the Minecraft name for a profile picture placeholder.
     * @param {string} name - The Minecraft name.
     * @returns {string} The first letter in uppercase, or '?' if name is empty.
     */
    const getProfilePicChar = (name) => {
        return name ? name.charAt(0).toUpperCase() : '?';
    };

    // Filter and get the last 5 tax payment transactions for display
    const recentTaxTransactions = (transactions || [])
        .filter(tx => tx.type === 'Tax Payment')
        .slice(-5); // Get only the last 5 transactions

    return (
        <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
            <h1 className="text-4xl font-extrabold text-red-400 mb-8 drop-shadow-lg">View Tax</h1>

            <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                {/* Account details and profile picture */}
                <div className="flex justify-between items-center mb-6">
                    <div>
                        <p className="text-lg"><strong className="text-gray-300">Bank Name:</strong> {bankName}</p>
                        <p className="text-lg"><strong className="text-gray-300">Minecraft Name:</strong> {accountId}</p>
                    </div>
                    <div className="w-16 h-16 bg-red-700 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-md border-2 border-red-500">
                        {getProfilePicChar(accountId)}
                    </div>
                </div>

                {/* Tax breakdown */}
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-lg mb-6">
                    <p><strong className="text-gray-300">Selling Tax:</strong> <span className="text-yellow-300">${sellingTax.toFixed(2)}</span></p>
                    <p><strong className="text-gray-300">Buying Tax:</strong> <span className="text-yellow-300">${buyingTax.toFixed(2)}</span></p>
                    <p><strong className="text-gray-300">Total Tax Due:</strong> <span className="text-red-500 font-bold text-xl">${totalTax.toFixed(2)}</span></p>
                    <p><strong className="text-gray-300">Tax Paid This Period:</strong> <span className="text-green-500">${taxPaid.toFixed(2)}</span></p>
                </div>

                {/* Action buttons */}
                <div className="flex flex-col md:flex-row justify-center gap-4 mt-8">
                    <button
                        onClick={() => {
                            if (totalTax > 0) {
                                handlePayTax(totalTax); // Call handler to pay the total tax due
                            } else {
                                showModal('No Tax Due', 'You currently have no tax due. Consider paying in advance!', null);
                            }
                        }}
                        className={`font-bold py-3 px-8 rounded-md transition duration-200 shadow-md transform hover:scale-105 ${totalTax > 0 ? 'bg-green-600 hover:bg-green-700 text-white' : 'bg-gray-600 text-gray-300 cursor-not-allowed'}`}
                        disabled={totalTax <= 0} // Disable if no tax is due
                    >
                        Pay Tax
                    </button>
                    <button
                        onClick={() => {
                            showModal(
                                'Advance Tax Pay',
                                'Enter amount to pay in advance. (Functionality to be implemented)',
                                null
                            );
                        }}
                        className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                    >
                        Advance Tax Pay
                    </button>
                    <button
                        onClick={() => setCurrentPage('home')} // Exit button now goes back to home
                        className="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-md transition duration-200 shadow-md transform hover:scale-105"
                    >
                        Exit
                    </button>
                </div>
            </div>

            {/* Recent Tax Payments section */}
            <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8 mt-8">
                <h2 className="text-2xl font-bold text-red-300 mb-4">Recent Tax Payments (Last 5)</h2>
                {recentTaxTransactions.length > 0 ? (
                    <ul className="space-y-3">
                        {recentTaxTransactions.map((tx, index) => (
                            <li key={index} className="flex justify-between items-center bg-gray-700 p-3 rounded-md border border-gray-600">
                                <span className="font-semibold text-gray-200">{new Date(tx.date).toLocaleDateString()} - {tx.description}</span>
                                <span className="text-green-400 font-bold">${Math.abs(tx.amount).toFixed(2)}</span>
                            </li>
                        ))}
                    </ul>
                ) : (
                    <p className="text-gray-400">No recent tax payment transactions.</p>
                )}
                <p className="text-sm text-gray-400 mt-4 text-center">
                    (Full history and chart functionality is part of the more complex version.)
                </p>
            </div>

            {/* Back to Home button */}
            <button
                onClick={() => setCurrentPage('home')}
                className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
            >
                ← Back to Home
            </button>
        </div>
    );
};
import React, { useState } from 'react'; // Assuming React is imported in your main App.js file

/**
 * Account Settings page component.
 * Displays user account information, mock social info, and allows changing the account password.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 * @param {object} props.currentUserAccount - The account object of the currently logged-in user.
 * @param {function} props.showModal - Function to display application messages.
 * @param {function} props.handleChangePassword - Function to handle password change logic.
 */
const AccountSettingsPage = ({ setCurrentPage, currentUserAccount, showModal, handleChangePassword }) => {
    if (!currentUserAccount) return null; // Don't render if no user account is loaded

    const [oldPassword, setOldPassword] = useState('');
    const [newPassword, setNewPassword] = useState('');
    const [confirmNewPassword, setConfirmNewPassword] = useState('');

    /**
     * Handles the form submission for changing the password.
     * Performs basic validation and calls the main app's password change handler.
     * @param {Event} e - The form submission event.
     */
    const onSubmitChangePassword = (e) => {
        e.preventDefault();
        if (newPassword !== confirmNewPassword) {
            showModal('Error', 'New passwords do not match!', null);
            return;
        }
        if (newPassword.length < 6) {
            showModal('Error', 'New password must be at least 6 characters long.', null);
            return;
        }
        // Call the main app's password change handler
        const success = handleChangePassword(oldPassword, newPassword);
        if (success) {
            // Clear form fields on success
            showModal('Success', 'Password changed successfully!', () => {
                setOldPassword('');
                setNewPassword('');
                setConfirmNewPassword('');
            });
        }
    };

    return (
        <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
            <h1 className="text-4xl font-extrabold text-blue-400 mb-8 drop-shadow-lg">Account Settings</h1>

            <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
                <h2 className="text-2xl font-bold text-blue-300 mb-4">Account Information</h2>
                {/* Display account details */}
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-lg mb-6">
                    <p><strong className="text-gray-300">Bank Name:</strong> {currentUserAccount.bankName}</p>
                    <p><strong className="text-gray-300">Account ID (MC Name):</strong> {currentUserAccount.accountId}</p>
                    <p><strong className="text-gray-300">Bank ID:</strong> {currentUserAccount.bankId}</p>
                    <p><strong className="text-gray-300">Current Balance:</strong> <span className="text-green-400 font-bold">${currentUserAccount.balance ? currentUserAccount.balance.toFixed(2) : '0.00'}</span></p>
                </div>

                {/* Placeholder for Social Info */}
                <h3 className="text-xl font-bold text-blue-300 mt-6 mb-4">Social Info (Placeholder)</h3>
                <p className="text-gray-400 mb-6">
                    This section is for future social integrations.
                </p>

                {/* Change Password form */}
                <h3 className="text-xl font-bold text-blue-300 mt-6 mb-4">Change Password</h3>
                <form onSubmit={onSubmitChangePassword} className="space-y-4">
                    <div>
                        <label htmlFor="oldPassword" className="block text-gray-300 text-sm font-bold mb-2">
                            Old Password:
                        </label>
                        <input
                            type="password"
                            id="oldPassword"
                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            value={oldPassword}
                            onChange={(e) => setOldPassword(e.target.value)}
                            required
                        />
                    </div>
                    <div>
                        <label htmlFor="newPassword" className="block text-gray-300 text-sm font-bold mb-2">
                            New Password:
                        </label>
                        <input
                            type="password"
                            id="newPassword"
                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            value={newPassword}
                            onChange={(e) => setNewPassword(e.target.value)}
                            required
                        />
                    </div>
                    <div>
                        <label htmlFor="confirmNewPassword" className="block text-gray-300 text-sm font-bold mb-2">
                            Confirm New Password:
                        </label>
                        <input
                            type="password"
                            id="confirmNewPassword"
                            className="shadow appearance-none border border-gray-600 rounded-md w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 transition duration-200"
                            value={confirmNewPassword}
                            onChange={(e) => setConfirmNewPassword(e.target.value)}
                            required
                        />
                    </div>
                    <button
                        type="submit"
                        className="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-200 shadow-md"
                    >
                        Change Password
                    </button>
                </form>
            </div>

            {/* Back to Home button */}
            <button
                onClick={() => setCurrentPage('home')}
                className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
            >
                ← Back to Home
            </button>
        </div>
    );
};
import React from 'react'; // Assuming React is imported in your main App.js file

/**
 * Top Tax Payers page component.
 * Displays a mock leaderboard of the top 3 players who have paid the most tax.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 */
const TopTaxPayersPage = ({ setCurrentPage }) => (
    <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
        <h1 className="text-4xl font-extrabold text-green-400 mb-8 drop-shadow-lg">Top 3 Most Tax Payers</h1>
        <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
            <p className="text-gray-400">This page will display a leaderboard of the top 3 players who have paid the most tax.</p>
            {/* Mock data for top taxpayers */}
            <ul className="mt-4 space-y-2 text-lg">
                <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                    <span className="font-semibold text-yellow-400">🥇 Player123</span>
                    <span>$1500.00</span>
                </li>
                <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                    <span className="font-semibold text-gray-300">🥈 BuilderBob</span>
                    <span>$1200.00</span>
                </li>
                <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                    <span className="font-semibold text-orange-400">🥉 MinerMike</span>
                    <span>$950.00</span>
                </li>
            </ul>
        </div>
        {/* Back to Home button */}
        <button
            onClick={() => setCurrentPage('home')}
            className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
        >
            ← Back to Home
        </button>
    </div>
);
import React from 'react'; // Assuming React is imported in your main App.js file

/**
 * Top Advance Tax Payers page component.
 * Displays a mock leaderboard of the top 3 players who have paid the most tax in advance.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 */
const TopAdvanceTaxPayersPage = ({ setCurrentPage }) => (
    <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
        <h1 className="text-4xl font-extrabold text-blue-400 mb-8 drop-shadow-lg">Top 3 Most Advance Tax Payers</h1>
        <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
            <p className="text-gray-400">This page will display a leaderboard of the top 3 players who have paid the most tax in advance.</p>
            {/* Mock data for top advance taxpayers */}
            <ul className="mt-4 space-y-2 text-lg">
                <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                    <span className="font-semibold text-yellow-400">🥇 ServerAdmin</span>
                    <span>$2000.00</span>
                </li>
                <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                    <span className="font-semibold text-gray-300">🥈 WealthyPlayer</span>
                    <span>$1800.00</span>
                </li>
                <li className="flex justify-between bg-gray-700 p-3 rounded-md border border-gray-600">
                    <span className="font-semibold text-orange-400">🥉 ProGamer</span>
                    <span>$1000.00</span>
                </li>
            </ul>
        </div>
        {/* Back to Home button */}
        <button
            onClick={() => setCurrentPage('home')}
            className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
        >
            ← Back to Home
        </button>
    </div>
);
import React from 'react'; // Assuming React is imported in your main App.js file

/**
 * Contact Us page component.
 * Provides mock contact information for server administrators.
 * @param {object} props - Component props.
 * @param {function} props.setCurrentPage - Function to navigate to other pages.
 */
const ContactUsPage = ({ setCurrentPage }) => (
    <div className="p-6 bg-gray-900 text-gray-100 min-h-screen">
        <h1 className="text-4xl font-extrabold text-purple-400 mb-8 drop-shadow-lg">Contact Us</h1>
        <div className="bg-gray-800 p-8 rounded-xl shadow-lg border-4 border-gray-700 mb-8">
            <p className="text-lg text-gray-300 mb-4">For support, please contact your server administrators.</p>
            <ul className="list-disc list-inside space-y-2 text-lg">
                <li><strong className="text-gray-300">Discord:</strong> <a href="#" className="text-purple-400 hover:underline">discord.gg/yourserver</a></li>
                <li><strong className="text-gray-300">Email:</strong> <a href="mailto:support@yourserver.com" className="text-purple-400 hover:underline">support@yourserver.com</a></li>
            </ul>
        </div>
        {/* Back to Home button */}
        <button
            onClick={() => setCurrentPage('home')}
            className="mt-8 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-md transition duration-200 shadow-md"
        >
            ← Back to Home
        </button>
    </div>
);
